<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Date</title>
    <link rel="stylesheet" href="css/date.css" />
    <link rel="icon" type="image/png" href="images/favicon.png" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
</head>
<body>
    <div class="night">
      <div class="shooting_star"></div>
      <div class="shooting_star"></div>
      <div class="shooting_star"></div>
    </div>
    <div class="content">
        <h1 title="choose a date">Before making it official...</h1>
        <form class="form-group" action="lastpage.html">
          <div>
            <button class="button star-button" type="button" onclick="redirectToSurvey()">
              Please Answer The Survey
            </button>
            <button class="button" type="submit">
              Submit
            </button>

          </div>
        </form>        
    <script>
      document.querySelector('.button').addEventListener('click', function(event) {
        event.preventDefault(); // Prevent the default form submission
    
        const button = event.target.getBoundingClientRect();
        const centerX = button.left + button.width / 2;
        const centerY = button.top + button.height / 2;
    
        confetti({
          particleCount: 100,
          spread: 70,
          origin: { 
            x: centerX / window.innerWidth, 
            y: centerY / window.innerHeight 
          }
        });
    
        // Simulate form submission after confetti effect
        setTimeout(function() {
          window.location.href = event.target.form.action;
        }, 500);
      });
    </script>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
<script>
  document.querySelector('.button[type="submit"]').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default form submission

    const button = event.target.getBoundingClientRect();
    const centerX = button.left + button.width / 2;
    const centerY = button.top + button.height / 2;

    confetti({
      particleCount: 100,
      spread: 70,
      origin: { 
        x: centerX / window.innerWidth, 
        y: centerY / window.innerHeight 
      }
    });

    // Simulate form submission after confetti effect
    setTimeout(function() {
      window.location.href = event.target.form.action;
    }, 500);
  });

  function redirectToSurvey() {
    const button = document.querySelector('.star-button').getBoundingClientRect();
    const centerX = button.left + button.width / 2;
    const centerY = button.top + button.height / 2;

    confetti({
      particleCount: 100,
      angle: 90,
      spread: 70,
      origin: { 
        x: centerX / window.innerWidth, 
        y: centerY / window.innerHeight 
      },
      shapes: ['star']
    });

    // Redirect to Google survey after star popping effect
    setTimeout(function() {
      window.location.href = "https://forms.gle/your-google-survey-link"; // Replace with your actual Google survey link
    }, 500);
  }
</script>

    
</body>
</html>
